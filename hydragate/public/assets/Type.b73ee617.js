var D=(b,F,i)=>new Promise((g,r)=>{var c=s=>{try{d(i.next(s))}catch(p){r(p)}},e=s=>{try{d(i.throw(s))}catch(p){r(p)}},d=s=>s.done?g(s.value):Promise.resolve(s.value).then(c,e);d((i=i.apply(b,F)).next())});import{a as j,h as z,i as G}from"./index.580a3e84.js";import{T as I}from"./TableAction.f001e5b8.js";import{P as O}from"./PlusOutlined.b0ded516.js";import{d as $,z as H,u as J,r as k,b as K,aw as L,o as Q,c as W,w as u,a as t,j as o,q as w,l as _,v as C,y as E,N as X,ax as Y,m as Z,n as ee,aS as te,ad as ne,s as ue,a7 as oe,cF as ae,cG as se,A as le}from"./index.45014abe.js";import{_ as _e}from"./RadioButton.d8bc66eb.js";import"./sortable.esm.1502e2e1.js";import"./useDesignSetting.c3a93822.js";import"./propTypes.565749cc.js";import"./FormOutlined.5c6f69ba.js";import"./componentSetting.f3f6bdde.js";import"./index.esm.09bbae09.js";import"./DownOutlined.08dbf3e6.js";const ie=_(" \u65B0\u5EFA "),re=_("\u5426"),de=_("\u662F"),pe=_("\u663E\u793A"),ce=_("\u9690\u85CF"),me=_("\u5173\u95ED"),fe=_("\u4FDD\u5B58"),xe=$({setup(b){const F=[{title:"id",key:"id",width:50},{title:"\u540D\u79F0",key:"name",width:150},{title:"\u662F\u5426\u5E73\u53F0\u6807\u7B7E",key:"is_only_sys",width:80,render(n){return C(E,{type:n.is_only_sys?"success":"error"},{default:()=>n.is_only_sys?"\u662F":"\u5426"})}},{title:"\u662F\u5426\u9690\u85CF",key:"is_hide",width:80,render(n){return C(E,{type:n.is_hide?"error":"success"},{default:()=>n.is_hide?"\u9690\u85CF":"\u663E\u793A"})}},{title:"\u987A\u5E8F",key:"type_order",width:80},{title:"\u64CD\u4F5C",key:"actions",width:100,render(n){return C(I,{style:"button",actions:[{label:"\u5220\u9664",icon:"ic:outline-delete-outline",onClick:T.bind(null,n)},{label:"\u7F16\u8F91",onClick:x.bind(null,n)}]})}}],i=H(),g=J(),r=k(null),c=k([]),e=K({activeDrawer:!1,loading:!1,title:"\u5546\u5BB6\u7C7B\u522B\u7BA1\u7406",id:0,name:null,is_hide:0,is_only_sys:0,type_order:255}),d={name:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u540D\u79F0"}},s=()=>D(this,null,function*(){j().then(n=>{c.value=n.store_types})}),p=()=>{m(),e.activeDrawer=!0},m=()=>{e.activeDrawer=!1,e.loading=!1,e.activeDrawer=!1,e.loading=!1,e.id=0,e.name=null,e.is_hide=0,e.is_only_sys=0,e.type_order=255},A=()=>{m()},x=n=>{m(),e.id=n.id,e.name=n.name,e.is_hide=n.is_hide?1:0,e.is_only_sys=n.is_only_sys?1:0,e.type_order=n.type_order,e.activeDrawer=!0},T=n=>{i.warning({title:"\u8B66\u544A",content:"\u786E\u5B9A\u8981\u5220\u9664\u5F53\u524D\u6570\u636E\uFF0C\u8BE5\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u53D6\u6D88",onPositiveClick:()=>{z(n.id).then(()=>s())}})},N=n=>{var a;n.preventDefault(),(a=r.value)==null||a.validate(v=>{if(v)g.error("\u9A8C\u8BC1\u5931\u8D25");else{const h={id:e.id,name:e.name,is_hide:e.is_hide,is_only_sys:e.is_only_sys,type_order:e.type_order};e.loading=!0,G(h).then(()=>{m(),s()}).finally(()=>{e.loading=!1})}})};return L(()=>D(this,null,function*(){s()})),(n,a)=>{const v=X,h=Y,U=Z,f=ee,y=_e,B=te,S=ne,q=ue,P=oe,M=ae,R=se,V=le;return Q(),W(V,{bordered:!1,class:"proCard"},{default:u(()=>[t(o(w),{type:"primary",onClick:p},{default:u(()=>[t(v,null,{default:u(()=>[t(o(O))]),_:1}),ie]),_:1}),t(h,{columns:F,data:c.value,bordered:!1},null,8,["data"]),t(R,{show:o(e).activeDrawer,"onUpdate:show":a[4]||(a[4]=l=>o(e).activeDrawer=l),width:"50%","close-on-esc":!1,"mask-closable":!1},{default:u(()=>[t(M,{title:o(e).title},{footer:u(()=>[t(P,null,{default:u(()=>[t(o(w),{onClick:A},{default:u(()=>[me]),_:1}),t(o(w),{type:"info",loading:o(e).loading,onClick:N},{default:u(()=>[fe]),_:1},8,["loading"])]),_:1})]),default:u(()=>[t(q,{ref_key:"formRef",ref:r,model:o(e),"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",rules:d},{default:u(()=>[t(f,{label:"\u540D\u79F0",path:"name"},{default:u(()=>[t(U,{value:o(e).name,"onUpdate:value":a[0]||(a[0]=l=>o(e).name=l),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["value"])]),_:1}),t(f,{label:"\u662F\u5426\u5E73\u53F0\u7C7B\u578B"},{default:u(()=>[t(B,{value:o(e).is_only_sys,"onUpdate:value":a[1]||(a[1]=l=>o(e).is_only_sys=l)},{default:u(()=>[t(y,{value:0},{default:u(()=>[re]),_:1}),t(y,{value:1},{default:u(()=>[de]),_:1})]),_:1},8,["value"])]),_:1}),t(f,{label:"\u662F\u5426\u9690\u85CF"},{default:u(()=>[t(B,{value:o(e).is_hide,"onUpdate:value":a[2]||(a[2]=l=>o(e).is_hide=l)},{default:u(()=>[t(y,{value:0},{default:u(()=>[pe]),_:1}),t(y,{value:1},{default:u(()=>[ce]),_:1})]),_:1},8,["value"])]),_:1}),t(f,{label:"\u987A\u5E8F"},{default:u(()=>[t(S,{value:o(e).type_order,"onUpdate:value":a[3]||(a[3]=l=>o(e).type_order=l),min:1,max:65535},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])]),_:1},8,["show"])]),_:1})}}});export{xe as default};
