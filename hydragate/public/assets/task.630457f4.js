import{k as x,d as U}from"./workplace.0f165abd.js";import{d as q,u as L,r as D,b as N,aw as T,o as c,h as f,a as n,w as l,j as u,i as o,aD as V,aA as M,l as m,q as R,cH as j,m as G,n as H,s as S,a7 as $,cF as z,cG as I,as as _}from"./index.cfaa09d6.js";const J=m("\u6DFB\u52A0"),K=o("thead",null,[o("tr",null,[o("th",null,"id"),o("th",null,"name"),o("th",null,"info"),o("th",null,"tag")])],-1),O=m("\u5173\u95ED"),P=m("\u4FDD\u5B58"),Y=q({setup(Q){const h=L(),p=D([]),g=D(null),e=N({activeDrawer:!1,loading:!1,name:null,info:null,tag:null}),w={name:{required:!0,message:"\u8BF7\u8F93\u5165name",trigger:["blur","input"]}},v=()=>{e.activeDrawer=!1,e.loading=!1,e.name=null,e.info=null,e.tag=null},B=()=>{v()},b=r=>{var t;r.preventDefault(),(t=g.value)==null||t.validate(s=>{s?h.error("\u9A8C\u8BC1\u5931\u8D25"):(e.loading=!0,x({name:e.name,info:e.info}).then(()=>{F(),v()}).catch(()=>{e.loading=!1}))})},F=()=>{U().then(r=>{p.value=r.data})};return T(()=>{F()}),(r,t)=>{const s=R,k=j,i=G,d=H,A=S,E=$,C=z,y=I;return c(),f("div",null,[n(s,{type:"success",onClick:t[0]||(t[0]=a=>u(e).activeDrawer=!0)},{default:l(()=>[J]),_:1}),n(k,{bordered:!1,"single-line":!1},{default:l(()=>[K,o("tbody",null,[(c(!0),f(V,null,M(p.value,a=>(c(),f("tr",null,[o("td",null,_(a.id),1),o("td",null,_(a.name),1),o("td",null,_(a.info),1),o("td",null,_(a.tag),1)]))),256))])]),_:1}),n(y,{show:u(e).activeDrawer,"onUpdate:show":t[4]||(t[4]=a=>u(e).activeDrawer=a),width:"50%","close-on-esc":!1,"mask-closable":!1},{default:l(()=>[n(C,{title:"\u6DFB\u52A0task"},{footer:l(()=>[n(E,null,{default:l(()=>[n(s,{onClick:B},{default:l(()=>[O]),_:1}),n(s,{type:"info",loading:u(e).loading,onClick:b},{default:l(()=>[P]),_:1},8,["loading"])]),_:1})]),default:l(()=>[n(A,{ref_key:"formRef",ref:g,model:u(e),"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",rules:w},{default:l(()=>[n(d,{label:"\u540D\u79F0",path:"name"},{default:l(()=>[n(i,{value:u(e).name,"onUpdate:value":t[1]||(t[1]=a=>u(e).name=a),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["value"])]),_:1}),n(d,{label:"\u4FE1\u606F"},{default:l(()=>[n(i,{value:u(e).info,"onUpdate:value":t[2]||(t[2]=a=>u(e).info=a),placeholder:"\u8BF7\u8F93\u5165\u673A\u5668\u4EBA\u4FE1\u606F"},null,8,["value"])]),_:1}),n(d,{label:"\u6807\u7B7E"},{default:l(()=>[n(i,{value:u(e).tag,"onUpdate:value":t[3]||(t[3]=a=>u(e).tag=a),placeholder:"\u8BF7\u8F93\u5165\u673A\u5668\u4EBA\u6807\u7B7E"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])])}}});export{Y as default};
