var C=(f,d,i)=>new Promise((b,_)=>{var e=n=>{try{p(i.next(n))}catch(r){_(r)}},h=n=>{try{p(i.throw(n))}catch(r){_(r)}},p=n=>n.done?b(n.value):Promise.resolve(n.value).then(e,h);p((i=i.apply(f,d)).next())});import{l as D,m as F,n as y}from"./workplace.0f165abd.js";import{d as B,o as E,c as q,a as u,u as R,r as m,b as U,h as N,w as o,j as l,l as k,N as A,q as M,n as j,ae as L,s as O,A as V}from"./index.cfaa09d6.js";const $={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},z=u("path",{d:"M320 146s24.36-12-64-12a160 160 0 1 0 160 160",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),I=u("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 58l80 80l-80 80"},null,-1);var S=B({name:"Refresh",render:function(d,i){return E(),q("svg",$,[z,I])}});const T=k(" \u5237\u65B0\u6570\u636E, \u6BCF\u6B21\u63D2\u5165\u8BBE\u5907\u540E\u9700\u8981\u70B9\u51FB\u8BE5\u5237\u65B0\u6309\u94AE "),G=k("\u4FDD\u5B58"),P=B({setup(f){const d=R(),i=m(null),b=m([]),_=m([]),e=U({loading:!1,u2d2_left:null,u2d2_right:null,orbbec_head:null,orbbec_left:null,orbbec_right:null}),h={u2d2_left:{required:!0,message:"\u8BF7\u9009\u62E9robot",trigger:"change"},u2d2_right:{required:!0,message:"\u8BF7\u9009\u62E9scene",trigger:"change"},orbbec_head:{required:!0,message:"\u8BF7\u9009\u62E9task",trigger:"change"},orbbec_left:{required:!0,message:"\u8BF7\u9009\u62E9task",trigger:"change"},orbbec_right:{required:!0,message:"\u8BF7\u9009\u62E9task",trigger:"change"}},p=()=>C(this,null,function*(){try{yield D({usb_type:1});const r=yield F();r.data.length>0&&(b.value=r.data.map(a=>({label:a.usb_serial,value:a.usb_serial}))),yield D({usb_type:2});const t=yield F();t.data.length>0&&(_.value=t.data.map(a=>({label:a.usb_serial,value:a.usb_serial})))}catch(r){console.log(r)}}),n=r=>{var t;r.preventDefault(),(t=i.value)==null||t.validate(a=>{if(a)d.error("\u4FDD\u5B58\u5931\u8D25, \u7A0D\u540E\u91CD\u8BD5");else{if(e.u2d2_left===e.u2d2_right){d.error("\u5DE6\u53F3\u6447\u64CD\u81C2\u8BBE\u5907\u4E0D\u80FD\u76F8\u540C");return}if(e.orbbec_head===e.orbbec_left||e.orbbec_head===e.orbbec_right||e.orbbec_left===e.orbbec_right){d.error("\u6444\u50CF\u5934\u8BBE\u5907\u4E0D\u80FD\u91CD\u590D\u76F8\u540C");return}e.loading=!0,y({u2d2_left:e.u2d2_left,u2d2_right:e.u2d2_right,orbbec_head:e.orbbec_head,orbbec_left:e.orbbec_left,orbbec_right:e.orbbec_right}).then(()=>{e.loading=!1})}})};return(r,t)=>{const a=A,v=M,c=j,g=L,w=O,x=V;return E(),N("div",null,[u(x,{title:"\u521D\u59CB\u5316\u6444\u50CF\u5934\u548C\u6447\u64CD\u81C2"},{default:o(()=>[u(w,{ref_key:"formRef",ref:i,model:l(e),"label-placement":"left","label-width":200,style:{width:"600px"},"require-mark-placement":"right-hanging",rules:h,size:"large"},{default:o(()=>[u(c,null,{default:o(()=>[u(v,{type:"warning",onClick:p},{icon:o(()=>[u(a,null,{default:o(()=>[u(l(S))]),_:1})]),default:o(()=>[T]),_:1})]),_:1}),u(c,{label:"\u5DE6\u6447\u64CD\u81C2",path:"u2d2_left"},{default:o(()=>[u(g,{value:l(e).u2d2_left,"onUpdate:value":t[0]||(t[0]=s=>l(e).u2d2_left=s),placeholder:"\u8BF7\u9009\u62E9\u5DE6\u6447\u64CD\u81C2",options:b.value},null,8,["value","options"])]),_:1}),u(c,{label:"\u53F3\u6447\u64CD\u81C2",path:"u2d2_right"},{default:o(()=>[u(g,{value:l(e).u2d2_right,"onUpdate:value":t[1]||(t[1]=s=>l(e).u2d2_right=s),placeholder:"\u8BF7\u9009\u62E9\u53F3\u6447\u64CD\u81C2",options:b.value},null,8,["value","options"])]),_:1}),u(c,{label:"\u5934\u90E8\u6444\u50CF\u5934",path:"orbbec_head"},{default:o(()=>[u(g,{value:l(e).orbbec_head,"onUpdate:value":t[2]||(t[2]=s=>l(e).orbbec_head=s),placeholder:"\u8BF7\u9009\u62E9\u5934\u90E8\u6444\u50CF\u5934",options:_.value},null,8,["value","options"])]),_:1}),u(c,{label:"\u5DE6\u6444\u50CF\u5934",path:"orbbec_left"},{default:o(()=>[u(g,{value:l(e).orbbec_left,"onUpdate:value":t[3]||(t[3]=s=>l(e).orbbec_left=s),placeholder:"\u8BF7\u9009\u62E9\u5DE6\u6444\u50CF\u5934",options:_.value},null,8,["value","options"])]),_:1}),u(c,{label:"\u53F3\u6444\u50CF\u5934",path:"orbbec_right"},{default:o(()=>[u(g,{value:l(e).orbbec_right,"onUpdate:value":t[4]||(t[4]=s=>l(e).orbbec_right=s),placeholder:"\u8BF7\u9009\u62E9\u53F3\u6444\u50CF\u5934",options:_.value},null,8,["value","options"])]),_:1}),u(c,null,{default:o(()=>[u(v,{type:"info",loading:l(e).loading,onClick:n},{default:o(()=>[G]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})])}}});export{P as default};
