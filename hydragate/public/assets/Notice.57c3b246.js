import{g as N,p as k}from"./system.ef5bf78c.js";import{A as x,_ as w,a as I}from"./ArchiveOutline.1395acd9.js";import{d as V,u as $,b as j,aw as q,o as l,c as i,w as t,a as o,j as _,i as z,l as a,a_ as M,m as O,n as P,cO as R,q as J,a7 as S,N as T,cP as U,aY as Y,s as G,A as H}from"./index.86ccf7fc.js";const K=a(" \u5220\u9664\u56FE\u7247\u8868\u793A\u5173\u95ED\u7CFB\u7EDF\u516C\u544A "),L=a("\u5220\u9664"),Q=a(" \u786E\u8BA4\u8981\u5220\u9664\u5F53\u524D\u7684\u56FE\u6807icon\u5417? "),W={style:{"margin-bottom":"12px"}},X=a(" \u70B9\u51FB\u6216\u8005\u62D6\u52A8\u6587\u4EF6\u5230\u8BE5\u533A\u57DF\u6765\u4E0A\u4F20 "),Z=a("\u4FDD\u5B58"),_n=V({setup(nn){const m=$(),n=j({loading:!1,title:"",content:null,icon_path:null}),d=()=>{console.log(n),k({title:n.title,content:n.icon_path}).then(()=>m.success("\u5DF2\u7ECF\u6210\u529F\u4FDD\u5B58"))},r=()=>{n.content=null,n.icon_path=null},f=({event:e})=>{if(e&&e.target.status==200){const u=JSON.parse(e.target.response);n.content=u.url,n.icon_path=u.file_path}};return q(()=>{N().then(e=>{n.title=e.system_notice_title,n.content=e.system_notice_content,n.icon_path=e.system_icon_path})}),(e,u)=>{const g=M,h=O,s=P,F=R,p=J,A=w,c=S,D=T,B=I,C=U,b=Y,y=G,E=H;return l(),i(E,{bordered:!1,class:"proCard"},{default:t(()=>[o(c,{vertical:""},{default:t(()=>[o(g,{type:"info"},{default:t(()=>[K]),_:1}),o(y,{ref:"formRef",model:_(n),"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging"},{default:t(()=>[o(s,{label:"\u516C\u544A\u540D\u79F0"},{default:t(()=>[o(h,{value:_(n).title,"onUpdate:value":u[0]||(u[0]=v=>_(n).title=v),placeholder:"\u8BF7\u8F93\u5165\u516C\u544A\u540D\u79F0"},null,8,["value"])]),_:1}),o(s,{label:"\u516C\u544A\u56FE\u7247",path:"icon"},{default:t(()=>[_(n).content&&_(n).icon_path?(l(),i(c,{key:0,vertical:""},{default:t(()=>[o(F,{src:_(n).content,width:"100"},null,8,["src"]),o(A,{"show-icon":!1,onPositiveClick:r},{trigger:t(()=>[o(p,null,{default:t(()=>[L]),_:1})]),default:t(()=>[Q]),_:1})]),_:1})):(l(),i(b,{key:1,"directory-dnd":"",action:"/api/admin/upload",accept:"image/png, image/jpeg",name:"image",onFinish:f},{default:t(()=>[o(C,null,{default:t(()=>[z("div",W,[o(D,{size:"48",depth:3},{default:t(()=>[o(_(x))]),_:1})]),o(B,{style:{"font-size":"16px"}},{default:t(()=>[X]),_:1})]),_:1})]),_:1}))]),_:1}),o(s,{label:" "},{default:t(()=>[o(c,null,{default:t(()=>[o(p,{type:"info",loading:_(n).loading,onClick:d},{default:t(()=>[Z]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})}}});export{_n as default};
