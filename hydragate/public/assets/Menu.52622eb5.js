var D=(w,f,i)=>new Promise((g,_)=>{var p=a=>{try{r(i.next(a))}catch(d){_(d)}},e=a=>{try{r(i.throw(a))}catch(d){_(d)}},r=a=>a.done?g(a.value):Promise.resolve(a.value).then(p,e);r((i=i.apply(w,f)).next())});import{T as j}from"./TableAction.f556838f.js";import{a as z,d as G,b as I}from"./system.ef5bf78c.js";import{P as L}from"./PlusOutlined.d25dbbc6.js";import{d as O,z as S,u as $,r as b,b as H,aw as J,o as K,c as Q,w as o,a as n,j as u,q as y,l as c,v as k,y as W,N as X,ax as Y,m as Z,n as ee,aS as ne,ad as te,s as oe,a7 as ue,cF as ae,cG as le,A as se}from"./index.86ccf7fc.js";import{_ as ie}from"./RadioButton.5933aaea.js";import"./sortable.esm.1502e2e1.js";import"./useDesignSetting.0f98b922.js";import"./propTypes.19b42dfe.js";import"./FormOutlined.17a2d204.js";import"./componentSetting.f3f6bdde.js";import"./index.esm.5448cf00.js";import"./DownOutlined.4c8ebe05.js";const _e=c(" \u65B0\u5EFA "),re=c("\u663E\u793A"),de=c("\u9690\u85CF"),ce=c("\u5173\u95ED"),pe=c("\u4FDD\u5B58"),Be=O({setup(w){const f=[{title:"id",key:"id",width:50},{title:"\u540D\u79F0",key:"name",width:150},{title:"\u662F\u5426\u9690\u85CF",key:"is_hide",width:80,render(t){return k(W,{type:t.is_hide?"error":"success"},{default:()=>t.is_hide?"\u9690\u85CF":"\u663E\u793A"})}},{title:"\u987A\u5E8F",key:"type_order",width:80},{title:"\u64CD\u4F5C",key:"actions",width:100,render(t){return k(j,{style:"button",actions:[{label:"\u5220\u9664",icon:"ic:outline-delete-outline",onClick:E.bind(null,t)},{label:"\u7F16\u8F91",onClick:B.bind(null,t)}]})}}],i=S(),g=$(),_=b(null),p=b([]),e=H({activeDrawer:!1,loading:!1,title:"\u9996\u9875\u83DC\u5355\u7BA1\u7406",id:0,name:null,is_hide:0,type_order:255}),r={name:{required:!0,trigger:["blur","input"],message:"\u8BF7\u8F93\u5165\u540D\u79F0"}},a=()=>D(this,null,function*(){z().then(t=>{p.value=t})}),d=()=>{m(),e.activeDrawer=!0},m=()=>{e.activeDrawer=!1,e.loading=!1,e.activeDrawer=!1,e.loading=!1,e.id=0,e.name=null,e.is_hide=0,e.type_order=255},A=()=>{m()},B=t=>{m(),e.id=t.id,e.name=t.name,e.is_hide=t.is_hide?1:0,e.type_order=t.type_order,e.activeDrawer=!0},E=t=>{i.warning({title:"\u8B66\u544A",content:"\u786E\u5B9A\u8981\u5220\u9664\u5F53\u524D\u6570\u636E\uFF0C\u8BE5\u64CD\u4F5C\u65E0\u6CD5\u64A4\u9500\uFF1F",positiveText:"\u786E\u5B9A",negativeText:"\u53D6\u6D88",onPositiveClick:()=>{G(t.id).then(()=>a())}})},x=t=>{var l;t.preventDefault(),(l=_.value)==null||l.validate(h=>{if(h)g.error("\u9A8C\u8BC1\u5931\u8D25");else{const F={id:e.id,name:e.name,is_hide:e.is_hide,type_order:e.type_order};e.loading=!0,I(F).then(()=>{m(),a()}).finally(()=>{e.loading=!1})}})};return J(()=>D(this,null,function*(){a()})),(t,l)=>{const h=X,F=Y,T=Z,v=ee,C=ie,M=ne,N=te,U=oe,q=ue,P=ae,R=le,V=se;return K(),Q(V,{bordered:!1,class:"proCard"},{default:o(()=>[n(u(y),{type:"primary",onClick:d},{default:o(()=>[n(h,null,{default:o(()=>[n(u(L))]),_:1}),_e]),_:1}),n(F,{columns:f,data:p.value,bordered:!1},null,8,["data"]),n(R,{show:u(e).activeDrawer,"onUpdate:show":l[3]||(l[3]=s=>u(e).activeDrawer=s),width:"50%","close-on-esc":!1,"mask-closable":!1},{default:o(()=>[n(P,{title:u(e).title},{footer:o(()=>[n(q,null,{default:o(()=>[n(u(y),{onClick:A},{default:o(()=>[ce]),_:1}),n(u(y),{type:"info",loading:u(e).loading,onClick:x},{default:o(()=>[pe]),_:1},8,["loading"])]),_:1})]),default:o(()=>[n(U,{ref_key:"formRef",ref:_,model:u(e),"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",rules:r},{default:o(()=>[n(v,{label:"\u540D\u79F0",path:"name"},{default:o(()=>[n(T,{value:u(e).name,"onUpdate:value":l[0]||(l[0]=s=>u(e).name=s),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["value"])]),_:1}),n(v,{label:"\u662F\u5426\u9690\u85CF"},{default:o(()=>[n(M,{value:u(e).is_hide,"onUpdate:value":l[1]||(l[1]=s=>u(e).is_hide=s)},{default:o(()=>[n(C,{value:0},{default:o(()=>[re]),_:1}),n(C,{value:1},{default:o(()=>[de]),_:1})]),_:1},8,["value"])]),_:1}),n(v,{label:"\u987A\u5E8F"},{default:o(()=>[n(N,{value:u(e).type_order,"onUpdate:value":l[2]||(l[2]=s=>u(e).type_order=s),min:1,max:65535},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])]),_:1},8,["show"])]),_:1})}}});export{Be as default};
