import{e as U,a as q}from"./workplace.6dc847cd.js";import{d as R,u as L,r as v,b as N,aw as V,o as d,h as c,a as n,w as l,j as u,i as a,aD as M,aA as $,l as m,q as j,cG as G,ad as S,n as T,m as z,s as H,a7 as I,cE as J,cF as K,as as i}from"./index.3790d147.js";const O=m("\u6DFB\u52A0"),P=a("thead",null,[a("tr",null,[a("th",null,"id"),a("th",null,"name"),a("th",null,"info"),a("th",null,"perception")])],-1),Q=m("\u5173\u95ED"),W=m("\u4FDD\u5B58"),ee=R({setup(X){const D=L(),f=v([]),g=v(null),e=N({activeDrawer:!1,loading:!1,robot_id:0,name:null,info:null,perception:null}),w={robot_id:{type:"number",required:!0,message:"\u8BF7\u8F93\u5165robot_id",trigger:["blur","input"]},name:{required:!0,message:"\u8BF7\u8F93\u5165name",trigger:["blur","input"]}},b=()=>{e.activeDrawer=!1,e.loading=!1,e.robot_id=0,e.name=null,e.info=null,e.perception=null},h=()=>{b()},B=r=>{var t;r.preventDefault(),(t=g.value)==null||t.validate(s=>{s?D.error("\u9A8C\u8BC1\u5931\u8D25"):(e.loading=!0,U({robot_id:~~e.robot_id,name:e.name,info:e.info,perception:e.perception}).then(()=>{F(),b()}).catch(()=>{e.loading=!1}))})},F=()=>{q().then(r=>{f.value=r.data})};return V(()=>{F()}),(r,t)=>{const s=j,E=G,k=S,_=T,p=z,A=H,C=I,y=J,x=K;return d(),c("div",null,[n(s,{type:"success",onClick:t[0]||(t[0]=o=>u(e).activeDrawer=!0)},{default:l(()=>[O]),_:1}),n(E,{bordered:!1,"single-line":!1},{default:l(()=>[P,a("tbody",null,[(d(!0),c(M,null,$(f.value,o=>(d(),c("tr",null,[a("td",null,i(o.id),1),a("td",null,i(o.name),1),a("td",null,i(o.info),1),a("td",null,i(o.perception),1)]))),256))])]),_:1}),n(x,{show:u(e).activeDrawer,"onUpdate:show":t[5]||(t[5]=o=>u(e).activeDrawer=o),width:"50%","close-on-esc":!1,"mask-closable":!1},{default:l(()=>[n(y,{title:"\u6DFB\u52A0robot"},{footer:l(()=>[n(C,null,{default:l(()=>[n(s,{onClick:h},{default:l(()=>[Q]),_:1}),n(s,{type:"info",loading:u(e).loading,onClick:B},{default:l(()=>[W]),_:1},8,["loading"])]),_:1})]),default:l(()=>[n(A,{ref_key:"formRef",ref:g,model:u(e),"label-placement":"left","label-width":"auto","require-mark-placement":"right-hanging",rules:w},{default:l(()=>[n(_,{label:"robot_id",path:"robot_id"},{default:l(()=>[n(k,{value:u(e).robot_id,"onUpdate:value":t[1]||(t[1]=o=>u(e).robot_id=o),min:1,max:65535},null,8,["value"])]),_:1}),n(_,{label:"\u540D\u79F0",path:"name"},{default:l(()=>[n(p,{value:u(e).name,"onUpdate:value":t[2]||(t[2]=o=>u(e).name=o),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["value"])]),_:1}),n(_,{label:"\u4FE1\u606F"},{default:l(()=>[n(p,{value:u(e).info,"onUpdate:value":t[3]||(t[3]=o=>u(e).info=o),placeholder:"\u8BF7\u8F93\u5165\u673A\u5668\u4EBA\u4FE1\u606F"},null,8,["value"])]),_:1}),n(_,{label:"\u611F\u77E5"},{default:l(()=>[n(p,{value:u(e).perception,"onUpdate:value":t[4]||(t[4]=o=>u(e).perception=o),placeholder:"\u8BF7\u8F93\u5165\u673A\u5668\u4EBA\u611F\u77E5\u4FE1\u606F"},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])])}}});export{ee as default};
